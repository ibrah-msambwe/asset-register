(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1101],{4705:(e,a,s)=>{Promise.resolve().then(s.bind(s,37714))},35169:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(19946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35695:(e,a,s)=>{"use strict";var r=s(18999);s.o(r,"useParams")&&s.d(a,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(a,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(a,{useRouter:function(){return r.useRouter}})},37714:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>k});var r=s(95155),t=s(12115),l=s(35695),i=s(99314),d=s(76037),n=s(97168),c=s(89852),o=s(66220),m=s(88482),u=s(95784),h=s(35169),x=s(85339),p=s(6874),f=s.n(p),j=s(58012),b=s(49026),N=s(27737),v=s(37777),g=s(56671);let y=e=>{if(e)switch(e.trim().toLowerCase()){case"computer":return"Computer";case"laptop":return"Laptop";case"printer":return"Printer";case"scanner":return"Scanner";case"sim card":return"SIM Card";case"office phone":return"Office Phone";case"router":return"Router";case"pocket wifi":return"Pocket Wifi";case"ups":return"UPS";default:return}},w=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"",C=e=>{let a=new Set;return e.forEach(e=>{if(e.type)switch(e.type.trim().toLowerCase()){case"computer":case"compuetr":a.add("Computer");break;case"laptop":a.add("Laptop");break;case"printer":a.add("Printer");break;case"scanner":a.add("Scanner");break;case"sim card":a.add("SIM Card");break;case"office phone":a.add("Office Phone");break;case"router":a.add("Router");break;case"pocket wifi":a.add("Pocket Wifi");break;case"ups":a.add("UPS");break;case"modem":case"mordem":a.add("Modem");break;case"tablet":a.add("Tablet");break;case"phone":a.add("Phone");break;case"server":a.add("Server");break;case"firewall":a.add("Firewall");break;default:a.add(e.type.charAt(0).toUpperCase()+e.type.slice(1).toLowerCase())}}),Array.from(a)};function k(){let e=(0,l.useRouter)(),a=(0,l.useParams)().id,{devices:s,updateDevice:p,error:k,loading:A}=(0,j.t)(),[R,S]=(0,t.useState)({type:"",serialNumber:"",modelNumber:"",assignedTo:"",status:"",department:"",warranty:""}),[T,D]=(0,t.useState)(""),[E,F]=(0,t.useState)(!1),[P,I]=(0,t.useState)(null),[q,_]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(!A){let e=s.find(e=>e.id===a);e?(S({type:e.type,serialNumber:e.serialNumber,modelNumber:e.modelNumber||"",assignedTo:e.assignedTo||"",status:e.status,department:e.department||"",warranty:e.warranty||""}),D(e.assetNumber||"Not Assigned")):_(!0)}},[a,s,A]);let Z=async s=>{if(s.preventDefault(),I(null),!R.serialNumber){I("Serial number is required.");return}if(!R.type){I("Device type is required.");return}if(!R.status){I("Status is required.");return}F(!0);try{let s={...R,type:y(R.type),status:w(R.status),assignedTo:w(R.assignedTo),department:w(R.department),warranty:w(R.warranty)};await p(a,{...s,dateAssigned:s.assignedTo?new Date().toISOString().split("T")[0]:null}),g.oR.success("Device updated successfully! \uD83E\uDEE1",{description:"The device information has been saved.",duration:3e3}),e.push("/devices")}catch(e){I(e.message||"Failed to update device"),F(!1)}},J=(e,a)=>{S(s=>({...s,[e]:a}))};return q?(0,r.jsxs)(i.sF,{className:"h-full bg-white",children:[(0,r.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4 bg-white",children:[(0,r.jsx)(i.x2,{className:"-ml-1"}),(0,r.jsx)(d.w,{orientation:"vertical",className:"mr-2 h-4"}),(0,r.jsx)("h1",{className:"text-lg font-semibold",children:"Device Not Found"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full bg-white",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Device Not Found"}),(0,r.jsx)("p",{className:"mb-6",children:"The device you're looking for doesn't exist or has been removed."}),(0,r.jsx)(n.$,{asChild:!0,children:(0,r.jsx)(f(),{href:"/devices",children:"Return to Devices"})})]})]}):(0,r.jsxs)(i.sF,{className:"h-full bg-white",children:[(0,r.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4 bg-white",children:[(0,r.jsx)(i.x2,{className:"-ml-1"}),(0,r.jsx)(d.w,{orientation:"vertical",className:"mr-2 h-4"}),(0,r.jsx)(n.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,r.jsxs)(f(),{href:"/devices",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Back to Devices"]})}),(0,r.jsx)(d.w,{orientation:"vertical",className:"mr-2 h-4"}),(0,r.jsx)("h1",{className:"text-lg font-semibold",children:"Edit Device"})]}),(0,r.jsx)("div",{className:"flex flex-1 flex-col gap-6 p-6 max-w-2xl mx-auto bg-white min-h-[calc(100vh-4rem)]",children:(0,r.jsxs)(m.Zp,{className:"border-none shadow-md bg-white",children:[(0,r.jsxs)(m.aR,{children:[(0,r.jsx)(m.ZB,{children:"Edit Device"}),(0,r.jsx)(m.BT,{children:"Update device information and assignment"})]}),(0,r.jsx)(m.Wu,{className:"bg-white",children:A?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(N.E,{className:"h-6 w-40"}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.E,{className:"h-5 w-24"}),(0,r.jsx)(N.E,{className:"h-10 w-full"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.E,{className:"h-5 w-32"}),(0,r.jsx)(N.E,{className:"h-10 w-full"})]})]})]}),(0,r.jsx)(N.E,{className:"h-px w-full"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(N.E,{className:"h-6 w-48"}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.E,{className:"h-5 w-28"}),(0,r.jsx)(N.E,{className:"h-10 w-full"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(N.E,{className:"h-5 w-20"}),(0,r.jsx)(N.E,{className:"h-10 w-full"})]})]})]})]}):(0,r.jsxs)(r.Fragment,{children:[(P||k)&&(0,r.jsxs)(b.Fc,{variant:"destructive",className:"mb-6",children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),(0,r.jsx)(b.TN,{children:P||k})]}),(0,r.jsx)(v.Bc,{children:(0,r.jsxs)("form",{onSubmit:Z,className:"space-y-6",children:[P&&(0,r.jsx)("div",{className:"text-red-600 text-sm mb-2",children:P}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Device Information"}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(v.m_,{children:[(0,r.jsx)(v.k$,{asChild:!0,children:(0,r.jsx)(o.J,{htmlFor:"assetNumber","aria-label":"Asset Number",children:"Asset Number"})}),(0,r.jsx)(v.ZI,{children:"System-generated asset number. Cannot be changed."})]}),(0,r.jsx)(c.p,{id:"assetNumber",value:T,disabled:!0,readOnly:!0,className:"bg-gray-100 cursor-not-allowed font-semibold text-blue-600","aria-label":"Asset Number"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Cannot be modified"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(v.m_,{children:[(0,r.jsx)(v.k$,{asChild:!0,children:(0,r.jsx)(o.J,{htmlFor:"deviceType","aria-label":"Device Type",children:"Device Type *"})}),(0,r.jsx)(v.ZI,{children:"Select the type of device. Required."})]}),(0,r.jsxs)(u.l6,{value:R.type,onValueChange:e=>J("type",e),required:!0,"aria-label":"Device Type",children:[(0,r.jsx)(u.bq,{className:"bg-white",children:(0,r.jsx)(u.yv,{placeholder:"Select device type"})}),(0,r.jsx)(u.gC,{className:"bg-white",children:C(s).map(e=>(0,r.jsx)(u.eb,{value:e,children:e},e))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(v.m_,{children:[(0,r.jsx)(v.k$,{asChild:!0,children:(0,r.jsx)(o.J,{htmlFor:"serialNumber","aria-label":"Serial Number",children:"Serial Number *"})}),(0,r.jsx)(v.ZI,{children:"Unique identifier for the device. Required."})]}),(0,r.jsx)(c.p,{id:"serialNumber",value:R.serialNumber,onChange:e=>J("serialNumber",e.target.value),placeholder:"Enter serial number",className:"bg-white",required:!0,"aria-label":"Serial Number"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(v.m_,{children:[(0,r.jsx)(v.k$,{asChild:!0,children:(0,r.jsx)(o.J,{htmlFor:"modelNumber","aria-label":"Model Number",children:"Model Number"})}),(0,r.jsx)(v.ZI,{children:"Device model number (optional)."})]}),(0,r.jsx)(c.p,{id:"modelNumber",value:R.modelNumber,onChange:e=>J("modelNumber",e.target.value),placeholder:"Enter model number (optional)",className:"bg-white","aria-label":"Model Number"})]})]})]}),(0,r.jsx)(d.w,{}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Assignment Information"}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(v.m_,{children:[(0,r.jsx)(v.k$,{asChild:!0,children:(0,r.jsx)(o.J,{htmlFor:"assignedTo","aria-label":"Assigned To",children:"Assigned To"})}),(0,r.jsx)(v.ZI,{children:"Employee name (optional)."})]}),(0,r.jsx)(c.p,{id:"assignedTo",value:R.assignedTo,onChange:e=>J("assignedTo",e.target.value),placeholder:"Enter full name (leave blank if unassigned)",className:"bg-white","aria-label":"Assigned To"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(v.m_,{children:[(0,r.jsx)(v.k$,{asChild:!0,children:(0,r.jsx)(o.J,{htmlFor:"status","aria-label":"Status",children:"Status *"})}),(0,r.jsx)(v.ZI,{children:"Current status of the device. Required."})]}),(0,r.jsxs)(u.l6,{value:R.status,onValueChange:e=>J("status",e),required:!0,"aria-label":"Status",children:[(0,r.jsx)(u.bq,{className:"bg-white",children:(0,r.jsx)(u.yv,{placeholder:"Select status"})}),(0,r.jsxs)(u.gC,{className:"bg-white",children:[(0,r.jsx)(u.eb,{value:"Active",children:"Active"}),(0,r.jsx)(u.eb,{value:"Available",children:"Available"}),(0,r.jsx)(u.eb,{value:"Maintenance",children:"Maintenance"}),(0,r.jsx)(u.eb,{value:"Inactive",children:"Inactive"})]})]})]})]})]}),(0,r.jsx)(d.w,{}),(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsxs)(v.m_,{children:[(0,r.jsx)(v.k$,{asChild:!0,children:(0,r.jsx)(o.J,{htmlFor:"notes","aria-label":"Notes",children:"Notes"})}),(0,r.jsx)(v.ZI,{children:"Additional information about the device (optional)."})]})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(v.m_,{children:[(0,r.jsx)(v.k$,{asChild:!0,children:(0,r.jsx)(o.J,{htmlFor:"department","aria-label":"Department",children:"Department"})}),(0,r.jsx)(v.ZI,{children:"Department where the device is assigned (optional)."})]}),(0,r.jsx)(c.p,{id:"department",value:R.department,onChange:e=>J("department",e.target.value),placeholder:"Enter department name",className:"bg-white","aria-label":"Department"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(v.m_,{children:[(0,r.jsx)(v.k$,{asChild:!0,children:(0,r.jsx)(o.J,{htmlFor:"warranty","aria-label":"Warranty",children:"Warranty"})}),(0,r.jsx)(v.ZI,{children:"Device warranty information (optional)."})]}),(0,r.jsx)(c.p,{id:"warranty",value:R.warranty,onChange:e=>J("warranty",e.target.value),placeholder:"Enter warranty details",className:"bg-white","aria-label":"Warranty"})]}),(0,r.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,r.jsx)(n.$,{type:"submit",disabled:E,children:E?"Saving...":"Save Changes"}),(0,r.jsx)(n.$,{asChild:!0,variant:"outline",type:"button",disabled:E,children:(0,r.jsxs)(f(),{href:"/devices",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Cancel"]})})]})]})})]})})]})})]})}},49026:(e,a,s)=>{"use strict";s.d(a,{Fc:()=>n,TN:()=>c});var r=s(95155),t=s(12115),l=s(74466),i=s(53999);let d=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n=t.forwardRef((e,a)=>{let{className:s,variant:t,...l}=e;return(0,r.jsx)("div",{ref:a,role:"alert",className:(0,i.cn)(d({variant:t}),s),...l})});n.displayName="Alert",t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("h5",{ref:a,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",s),...t})}).displayName="AlertTitle";let c=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",s),...t})});c.displayName="AlertDescription"},66220:(e,a,s)=>{"use strict";s.d(a,{J:()=>o});var r=s(95155),t=s(12115),l=s(63655),i=t.forwardRef((e,a)=>(0,r.jsx)(l.sG.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var d=s(74466),n=s(53999);let c=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(i,{ref:a,className:(0,n.cn)(c(),s),...t})});o.displayName=i.displayName},85339:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(19946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},88482:(e,a,s)=>{"use strict";s.d(a,{BT:()=>c,Wu:()=>o,ZB:()=>n,Zp:()=>i,aR:()=>d});var r=s(95155),t=s(12115),l=s(53999);let i=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t})});i.displayName="Card";let d=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...t})});d.displayName="CardHeader";let n=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...t})});n.displayName="CardTitle";let c=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",s),...t})});c.displayName="CardDescription";let o=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",s),...t})});o.displayName="CardContent",t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",s),...t})}).displayName="CardFooter"},95784:(e,a,s)=>{"use strict";s.d(a,{bq:()=>u,eb:()=>f,gC:()=>p,l6:()=>o,yv:()=>m});var r=s(95155),t=s(12115),l=s(93081),i=s(66474),d=s(47863),n=s(5196),c=s(53999);let o=l.bL;l.YJ;let m=l.WT,u=t.forwardRef((e,a)=>{let{className:s,children:t,...d}=e;return(0,r.jsxs)(l.l9,{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...d,children:[t,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.l9.displayName;let h=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.PP,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})});h.displayName=l.PP.displayName;let x=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.wn,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});x.displayName=l.wn.displayName;let p=t.forwardRef((e,a)=>{let{className:s,children:t,position:i="popper",...d}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:a,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...d,children:[(0,r.jsx)(h,{}),(0,r.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(x,{})]})})});p.displayName=l.UC.displayName,t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.JU,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t})}).displayName=l.JU.displayName;let f=t.forwardRef((e,a)=>{let{className:s,children:t,...i}=e;return(0,r.jsxs)(l.q7,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:t})]})});f.displayName=l.q7.displayName,t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...t})}).displayName=l.wv.displayName}},e=>{var a=a=>e(e.s=a);e.O(0,[8110,2939,8370,6874,6671,3745,4075,8441,1684,7358],()=>a(4705)),_N_E=e.O()}]);