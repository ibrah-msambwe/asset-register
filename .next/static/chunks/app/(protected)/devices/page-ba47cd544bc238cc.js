(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7168],{5623:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(19946).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},29869:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(19946).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},36100:(e,s,r)=>{Promise.resolve().then(r.bind(r,87387))},42355:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(19946).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},47801:(e,s,r)=>{"use strict";function a(e){let{isVisible:s,needsTableSetup:r=!1,error:a}=e;return null}r.d(s,{p:()=>a})},47924:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(19946).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},84616:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(19946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},85339:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(19946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},87387:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>P});var a=r(95155),t=r(12115),l=r(6874),d=r.n(l),n=r(99314),c=r(76037),i=r(97168),o=r(89852),h=r(88482),x=r(88145),b=r(95784),m=r(84616),u=r(29869),p=r(47924),j=r(5623),N=r(13717),g=r(62525),y=r(85339),v=r(42355),w=r(13052),f=r(56671),A=r(67133),C=r(88524),k=r(58012),S=r(27737),E=r(47801),L=r(99840),M=r(53999);let D=e=>{if(!e)return"Other";switch(e.trim().toLowerCase()){case"computer":case"compuetr":return"Computer";case"laptop":return"Laptop";case"printer":return"Printer";case"scanner":return"Scanner";case"sim card":return"SIM Card";case"office phone":return"Office Phone";case"router":return"Router";case"pocket wifi":return"Pocket Wifi";case"ups":return"UPS";case"modem":case"mordem":return"Modem";case"tablet":return"Tablet";case"phone":return"Phone";case"server":return"Server";case"firewall":return"Firewall";default:return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}},T=e=>{let s=new Set;return e.forEach(e=>{e.type&&s.add(D(e.type))}),Array.from(s)};function P(){let{devices:e,deleteDevice:s,updateDevice:r,loading:l,error:P,isUsingMockData:_,needsTableSetup:I}=(0,k.t)(),[$,O]=(0,t.useState)(""),[W,q]=(0,t.useState)("all"),[F,R]=(0,t.useState)("all"),[Z,z]=(0,t.useState)(null),[H,U]=(0,t.useState)(null),[B,V]=(0,t.useState)("serialNumber"),[G,Q]=(0,t.useState)("asc"),[X,J]=(0,t.useState)(1),[K,Y]=(0,t.useState)(20),ee=e.filter(e=>{let s=(e.assetNumber||"").toLowerCase().includes($.toLowerCase())||(e.serialNumber||"").toLowerCase().includes($.toLowerCase())||(e.assignedTo||"").toLowerCase().includes($.toLowerCase())||(e.type||"").toLowerCase().includes($.toLowerCase())||(e.department||"").toLowerCase().includes($.toLowerCase()),r=D(e.type||""),a="all"===W||r===W,t="all"===F||(e.status||"").toLowerCase()===F.toLowerCase();return s&&a&&t}),es=(e,s)=>{switch(s){case"assetNumber":return e.assetNumber||"";case"type":return e.type||"";case"serialNumber":return e.serialNumber||"";case"assignedTo":return e.assignedTo||"";case"status":return e.status||"";case"dateAssigned":return e.dateAssigned||"";case"modelNumber":return e.modelNumber||"";case"department":return e.department||"";case"warranty":return e.warranty||"";default:return""}},er=[...ee].sort((e,s)=>{let r=es(e,B),a=es(s,B);return r<a?"asc"===G?-1:1:r>a?"asc"===G?1:-1:0}),ea=Math.ceil(er.length/K),et=er.slice((X-1)*K,X*K),el=e=>{switch(e){case"Active":return(0,a.jsx)(x.E,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Active"});case"Maintenance":return(0,a.jsx)(x.E,{className:"bg-amber-100 text-amber-800 hover:bg-amber-100",children:"Maintenance"});case"Available":return(0,a.jsx)(x.E,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:"Available"});case"Inactive":return(0,a.jsx)(x.E,{className:"bg-gray-100 text-gray-800 hover:bg-gray-100",children:"Inactive"});default:return(0,a.jsx)(x.E,{variant:"secondary",children:e})}},ed=e=>{U(e)},en=async()=>{if(H){z(H);try{await s(H),f.oR.success("Device deleted successfully! \uD83E\uDD17",{description:"The device has been removed from the system.",duration:3e3})}catch(e){f.oR.error("Failed to delete device",{description:"Please try again later."})}finally{z(null),U(null)}}},ec=()=>U(null);return(0,a.jsxs)(n.sF,{className:"h-full bg-white",children:[(0,a.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4 bg-white",children:[(0,a.jsx)(n.x2,{className:"-ml-1"}),(0,a.jsx)(c.w,{orientation:"vertical",className:"mr-2 h-4"}),(0,a.jsx)("h1",{className:"text-lg font-semibold",children:"Devices"}),(0,a.jsx)("div",{className:"ml-auto",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(i.$,{asChild:!0,children:(0,a.jsxs)(d(),{href:"/devices/add",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Add Device"]})}),(0,a.jsx)(i.$,{asChild:!0,variant:"outline",children:(0,a.jsxs)(d(),{href:"/devices/upload",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Upload Devices"]})})]})})]}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col gap-6 p-6 bg-white min-h-[calc(100vh-4rem)]",children:[(0,a.jsx)(E.p,{isVisible:_,needsTableSetup:I,error:P}),(0,a.jsxs)(h.Zp,{className:"border-none shadow-md bg-white",children:[(0,a.jsxs)(h.aR,{className:"pb-2",children:[(0,a.jsx)(h.ZB,{children:"Device Management"}),(0,a.jsx)(h.BT,{children:"Manage and track all your organization's devices"})]}),(0,a.jsx)(h.Wu,{className:"bg-white",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(p.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,a.jsx)(o.p,{placeholder:"Search asset numbers, devices, serial numbers, or assigned users...",value:$,onChange:e=>O(e.target.value),className:"pl-10 bg-white"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(b.l6,{value:W,onValueChange:q,children:[(0,a.jsx)(b.bq,{className:"w-[140px] bg-white",children:(0,a.jsx)(b.yv,{placeholder:"Device Type"})}),(0,a.jsxs)(b.gC,{className:"bg-white",children:[(0,a.jsx)(b.eb,{value:"all",children:"All Devices"}),T(e).map(e=>(0,a.jsx)(b.eb,{value:e,children:e},e))]})]}),(0,a.jsxs)(b.l6,{value:F,onValueChange:R,children:[(0,a.jsx)(b.bq,{className:"w-[120px] bg-white",children:(0,a.jsx)(b.yv,{placeholder:"Status"})}),(0,a.jsxs)(b.gC,{className:"bg-white",children:[(0,a.jsx)(b.eb,{value:"all",children:"All Status"}),(0,a.jsx)(b.eb,{value:"active",children:"Active"}),(0,a.jsx)(b.eb,{value:"available",children:"Available"}),(0,a.jsx)(b.eb,{value:"maintenance",children:"Maintenance"}),(0,a.jsx)(b.eb,{value:"inactive",children:"Inactive"})]})]})]})]})})]}),P&&!_&&!I&&(0,a.jsx)(h.Zp,{className:"border-none shadow-md bg-red-50",children:(0,a.jsx)(h.Wu,{className:"p-4",children:(0,a.jsx)("p",{className:"text-red-600",children:P})})}),(0,a.jsx)(h.Zp,{className:"border-none shadow-md flex-1 bg-white",children:(0,a.jsxs)(h.Wu,{className:"p-0 bg-white",children:[(0,a.jsxs)("div",{className:"flex justify-end items-center p-4",children:[(0,a.jsx)("label",{htmlFor:"rows-per-page",className:"mr-2 text-sm text-gray-700",children:"Rows per page:"}),(0,a.jsx)("select",{id:"rows-per-page",value:K,onChange:e=>{Y(Number(e.target.value)),J(1)},className:"border rounded px-2 py-1 text-sm",children:[10,20,50,100].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)(C.XI,{className:"font-inter shadow-md rounded-xl border-none bg-white",children:[(0,a.jsx)(C.A0,{children:(0,a.jsxs)(C.Hj,{className:"bg-blue-50 rounded-t-xl",children:[(0,a.jsx)(C.nd,{className:"font-bold text-base px-5 py-3 border-r border-dashed border-gray-200",children:"Asset Number"}),(0,a.jsx)(C.nd,{className:"font-bold text-base px-5 py-3 border-r border-dashed border-gray-200",children:"Device Type"}),(0,a.jsx)(C.nd,{className:"font-bold text-base px-5 py-3 border-r border-dashed border-gray-200",children:"Serial Number"}),(0,a.jsx)(C.nd,{className:"font-bold text-base px-5 py-3 border-r border-dashed border-gray-200",children:"Assigned To"}),(0,a.jsx)(C.nd,{className:"font-bold text-base px-5 py-3 border-r border-dashed border-gray-200",children:"Department"}),(0,a.jsx)(C.nd,{className:"font-bold text-base px-5 py-3 border-r border-dashed border-gray-200",children:"Warranty"}),(0,a.jsx)(C.nd,{className:"font-bold text-base px-5 py-3 border-r border-dashed border-gray-200",children:"Status"}),(0,a.jsx)(C.nd,{className:"font-bold text-base px-5 py-3 border-r border-dashed border-gray-200",children:"Date Assigned"}),(0,a.jsx)(C.nd,{className:"font-bold text-base px-5 py-3 border-r border-dashed border-gray-200",children:"Model Number"}),(0,a.jsx)(C.nd,{className:"w-[50px] font-bold text-base px-5 py-3"})]})}),(0,a.jsx)(C.BF,{className:"bg-white",children:l?[,,,,,].fill(0).map((e,s)=>(0,a.jsxs)(C.Hj,{className:"bg-white",children:[(0,a.jsx)(C.nA,{className:"border-r border-dashed border-gray-200",children:(0,a.jsx)(S.E,{className:"h-5 w-20"})}),(0,a.jsx)(C.nA,{className:"border-r border-dashed border-gray-200",children:(0,a.jsx)(S.E,{className:"h-5 w-24"})}),(0,a.jsx)(C.nA,{className:"border-r border-dashed border-gray-200",children:(0,a.jsx)(S.E,{className:"h-5 w-32"})}),(0,a.jsx)(C.nA,{className:"border-r border-dashed border-gray-200",children:(0,a.jsx)(S.E,{className:"h-5 w-28"})}),(0,a.jsx)(C.nA,{className:"border-r border-dashed border-gray-200",children:(0,a.jsx)(S.E,{className:"h-5 w-24"})}),(0,a.jsx)(C.nA,{className:"border-r border-dashed border-gray-200",children:(0,a.jsx)(S.E,{className:"h-5 w-24"})}),(0,a.jsx)(C.nA,{className:"border-r border-dashed border-gray-200",children:(0,a.jsx)(S.E,{className:"h-5 w-20"})}),(0,a.jsx)(C.nA,{className:"border-r border-dashed border-gray-200",children:(0,a.jsx)(S.E,{className:"h-5 w-24"})}),(0,a.jsx)(C.nA,{className:"border-r border-dashed border-gray-200",children:(0,a.jsx)(S.E,{className:"h-5 w-24"})}),(0,a.jsx)(C.nA,{children:(0,a.jsx)(S.E,{className:"h-8 w-8 rounded-md"})})]},s)):et.map((e,s)=>(0,a.jsxs)(C.Hj,{className:"transition hover:bg-blue-50 ".concat(s%2==0?"bg-white":"bg-blue-50/40"," rounded-lg px-5 py-3"),children:[(0,a.jsx)(C.nA,{className:"px-5 py-3 font-inter text-sm font-semibold text-blue-600 border-r border-dashed border-gray-200",children:e.assetNumber||"Not Assigned"}),(0,a.jsx)(C.nA,{className:"px-5 py-3 font-inter text-sm border-r border-dashed border-gray-200",children:e.type?(0,M.S)(e.type):"Not Available"}),(0,a.jsx)(C.nA,{className:"px-5 py-3 font-inter text-sm border-r border-dashed border-gray-200",children:e.serialNumber?e.serialNumber:"Not Available"}),(0,a.jsx)(C.nA,{className:"px-5 py-3 font-inter text-sm border-r border-dashed border-gray-200",children:e.assignedTo?(0,M.S)(e.assignedTo):"Not assigned"}),(0,a.jsx)(C.nA,{className:"px-5 py-3 font-inter text-sm border-r border-dashed border-gray-200",children:e.department?(0,M.S)(e.department):"Not assigned"}),(0,a.jsx)(C.nA,{className:"px-5 py-3 font-inter text-sm border-r border-dashed border-gray-200",children:e.warranty&&""!==e.warranty.trim().toLowerCase()&&"na"!==e.warranty.trim().toLowerCase()?(0,M.S)(e.warranty):"Not Available"}),(0,a.jsx)(C.nA,{className:"px-5 py-3 font-inter text-sm border-r border-dashed border-gray-200",children:e.status?el(e.status):"Not Available"}),(0,a.jsx)(C.nA,{className:"px-5 py-3 font-inter text-sm border-r border-dashed border-gray-200",children:e.dateAssigned?(0,M.S)(e.dateAssigned):"Not assigned"}),(0,a.jsx)(C.nA,{className:"px-5 py-3 font-inter text-sm border-r border-dashed border-gray-200",children:e.modelNumber?(0,M.S)(e.modelNumber):"Not Available"}),(0,a.jsx)(C.nA,{className:"px-5 py-3 font-inter text-sm flex gap-2 items-center",children:(0,a.jsxs)(A.rI,{children:[(0,a.jsx)(A.ty,{asChild:!0,children:(0,a.jsxs)(i.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,a.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,a.jsx)(j.A,{className:"h-4 w-4"})]})}),(0,a.jsxs)(A.SQ,{align:"end",children:[(0,a.jsx)(A._2,{asChild:!0,children:(0,a.jsxs)(d(),{href:"/devices/edit/".concat(e.id),children:[(0,a.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Edit"]})}),(0,a.jsxs)(A._2,{onClick:()=>ed(e.id),className:"text-red-600",children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Delete"]}),(0,a.jsxs)(A._2,{onClick:()=>{r(e.id,{...e,status:"Inactive"})},className:"text-gray-600",children:[(0,a.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Mark as Inactive"]})]})]})})]},e.id))})]})]})}),!l&&0===et.length&&(0,a.jsx)(h.Zp,{className:"border-none shadow-md bg-white",children:(0,a.jsxs)(h.Wu,{className:"flex flex-col items-center justify-center py-12 bg-white",children:[(0,a.jsx)(p.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No devices found"}),(0,a.jsx)("p",{className:"text-muted-foreground text-center mb-4",children:"No devices match your current search and filter criteria."}),(0,a.jsx)(i.$,{asChild:!0,children:(0,a.jsx)(d(),{href:"/devices/add",children:"Add New Device"})})]})}),!l&&ea>1&&(0,a.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-6",children:[(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>J(e=>Math.max(1,e-1)),disabled:1===X,className:"gap-1",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),"Previous"]}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:(()=>{let e=Math.max(1,X-Math.floor(2.5)),s=Math.min(ea,e+5-1);s-e<4&&(e=Math.max(1,s-5+1));let r=[];e>1&&(r.push((0,a.jsx)("button",{onClick:()=>J(1),className:"px-3 py-1 rounded border text-sm font-medium bg-white text-blue-600 border-blue-200 hover:bg-blue-50",children:"1"},1)),e>2&&r.push((0,a.jsx)("span",{className:"px-2 text-gray-500",children:"..."},"ellipsis1")));for(let t=e;t<=s;t++)r.push((0,a.jsx)("button",{onClick:()=>J(t),className:"px-3 py-1 rounded border text-sm font-medium ".concat(X===t?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-200 hover:bg-blue-50"),children:t},t));return s<ea&&(s<ea-1&&r.push((0,a.jsx)("span",{className:"px-2 text-gray-500",children:"..."},"ellipsis2")),r.push((0,a.jsx)("button",{onClick:()=>J(ea),className:"px-3 py-1 rounded border text-sm font-medium bg-white text-blue-600 border-blue-200 hover:bg-blue-50",children:ea},ea))),r})()}),(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>J(e=>Math.min(ea,e+1)),disabled:X===ea,className:"gap-1",children:["Next",(0,a.jsx)(w.A,{className:"h-4 w-4"})]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500 ml-4",children:["Page ",X," of ",ea]})]}),(0,a.jsx)(L.lG,{open:!!H,onOpenChange:ec,children:(0,a.jsxs)(L.Cf,{children:[(0,a.jsx)(L.c7,{children:(0,a.jsx)(L.L3,{children:"Delete Device"})}),(0,a.jsx)("p",{children:"Are you sure you want to delete this device? This action cannot be undone."}),(0,a.jsxs)(L.Es,{children:[(0,a.jsx)(i.$,{variant:"outline",onClick:ec,children:"Cancel"}),(0,a.jsx)(i.$,{variant:"destructive",onClick:en,disabled:null!==Z,children:"Delete"})]})]})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[8110,2939,8370,6874,6671,3745,9013,4075,8021,8441,1684,7358],()=>s(36100)),_N_E=e.O()}]);