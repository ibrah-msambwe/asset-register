(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2920],{4229:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(19946).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},12439:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>w});var r=s(95155),t=s(12115),l=s(35695),d=s(88482),i=s(97168),n=s(89852),c=s(66220),o=s(99314),u=s(76037),m=s(95784),x=s(35169),h=s(4229),p=s(6874),f=s.n(p),j=s(58012),b=s(37777),g=s(56671),v=s(27737);let N=e=>{if(e)switch(e.trim().toLowerCase()){case"computer":return"Computer";case"laptop":return"Laptop";case"printer":return"Printer";case"scanner":return"Scanner";case"sim card":return"SIM Card";case"office phone":return"Office Phone";case"router":return"Router";case"pocket wifi":return"Pocket Wifi";case"ups":return"UPS";default:return}},y=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"";function w(){let e=(0,l.useRouter)(),{addDevice:a,devices:s,loading:p}=(0,j.t)(),[w,C]=(0,t.useState)(!1),[A,R]=(0,t.useState)(!0),[S,D]=(0,t.useState)(""),[k,P]=(0,t.useState)({serialNumber:"",modelNumber:"",type:"",status:"Active",assignedTo:"",dateAssigned:"",department:"",warranty:""}),[M,T]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{if(p)return;let e=[];s.forEach(a=>{if(a.assetNumber&&a.assetNumber.startsWith("HD")){let s=a.assetNumber.match(/HD(\d+)/);if(s){let a=parseInt(s[1],10);a>0&&a<=1e3&&e.push(a)}}});let a=(e.length>0?Math.max(...e):0)+1;if(a>1e3){for(let s=1;s<=1e3;s++)if(!e.includes(s)){a=s;break}}a>1e3?D("HD1000 (Limit Reached)"):D("HD".concat(String(a).padStart(4,"0"))),setTimeout(()=>R(!1),300)})()},[s,p]);let E=async s=>{if(s.preventDefault(),C(!0),T(null),!k.serialNumber){T("Serial number is required."),C(!1);return}if(!k.type){T("Device type is required."),C(!1);return}if(!k.status){T("Status is required."),C(!1);return}try{let s={...k,type:N(k.type),status:y(k.status),assignedTo:y(k.assignedTo),department:y(k.department),warranty:y(k.warranty)};await a({...s,assetNumber:S,dateAssigned:s.dateAssigned||new Date().toISOString().split("T")[0]}),g.oR.success("Device added successfully! \uD83D\uDE02",{description:"Asset ".concat(S," has been registered in the system."),duration:4e3}),e.push("/devices")}catch(e){T("Error adding device."),console.error("Error adding device:",e)}finally{C(!1)}},I=(e,a)=>{P(s=>({...s,[e]:a}))};return(0,r.jsxs)(o.sF,{className:"h-full bg-white",children:[(0,r.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4 bg-white",children:[(0,r.jsx)(o.x2,{className:"-ml-1"}),(0,r.jsx)(u.w,{orientation:"vertical",className:"mr-2 h-4"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-lg font-semibold",children:"Add Device"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Register a new device"})]})]}),(0,r.jsxs)("div",{className:"flex flex-1 flex-col gap-6 p-6 bg-white",children:[(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsx)(i.$,{variant:"outline",size:"sm",asChild:!0,children:(0,r.jsxs)(f(),{href:"/devices",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Back to Devices"]})})}),A?(0,r.jsxs)(d.Zp,{className:"border-none shadow-xl bg-gradient-to-b from-white to-blue-50 max-w-3xl mx-auto p-8 rounded-2xl",children:[(0,r.jsxs)(d.aR,{className:"pb-6 text-center",children:[(0,r.jsx)(v.E,{className:"h-8 w-64 mx-auto mb-2"}),(0,r.jsx)(v.E,{className:"h-4 w-96 mx-auto"})]}),(0,r.jsxs)(d.Wu,{className:"p-0 md:p-0",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 items-start",children:Array.from({length:8}).map((e,a)=>(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,r.jsx)(v.E,{className:"h-5 w-24 mb-1"}),(0,r.jsx)(v.E,{className:"h-10 w-full"})]},a))}),(0,r.jsx)("div",{className:"flex justify-end col-span-full pt-6 mt-4",children:(0,r.jsx)(v.E,{className:"h-10 w-32"})})]})]}):(0,r.jsxs)(d.Zp,{className:"border-none shadow-xl bg-gradient-to-b from-white to-blue-50 max-w-3xl mx-auto p-8 rounded-2xl",children:[(0,r.jsxs)(d.aR,{className:"pb-6 text-center",children:[(0,r.jsx)(d.ZB,{className:"text-2xl font-bold",children:"Add New Device"}),(0,r.jsx)(d.BT,{children:"Fill in the details below to register a new device."})]}),(0,r.jsx)(d.Wu,{className:"p-0 md:p-0",children:(0,r.jsx)(b.Bc,{children:(0,r.jsxs)("form",{onSubmit:E,className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 items-start",children:[M&&(0,r.jsx)("div",{className:"text-red-600 text-sm mb-2 col-span-full",children:M}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,r.jsxs)(b.m_,{children:[(0,r.jsx)(b.k$,{asChild:!0,children:(0,r.jsx)(c.J,{htmlFor:"assetNumber","aria-label":"Asset Number",children:"Asset Number"})}),(0,r.jsx)(b.ZI,{children:"Automatically generated asset number. Cannot be changed."})]}),(0,r.jsx)(n.p,{id:"assetNumber",value:S,disabled:!0,readOnly:!0,className:"bg-gray-100 cursor-not-allowed font-semibold text-blue-600","aria-label":"Asset Number"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Auto-generated by system"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,r.jsxs)(b.m_,{children:[(0,r.jsx)(b.k$,{asChild:!0,children:(0,r.jsx)(c.J,{htmlFor:"serialNumber","aria-label":"Serial Number",children:"Serial Number *"})}),(0,r.jsx)(b.ZI,{children:"Unique identifier for the device. Required."})]}),(0,r.jsx)(n.p,{id:"serialNumber",value:k.serialNumber,onChange:e=>I("serialNumber",e.target.value),placeholder:"Enter serial number",required:!0,"aria-label":"Serial Number"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,r.jsxs)(b.m_,{children:[(0,r.jsx)(b.k$,{asChild:!0,children:(0,r.jsx)(c.J,{htmlFor:"modelNumber","aria-label":"Model Number",children:"Model Number"})}),(0,r.jsx)(b.ZI,{children:"Device model number (optional)."})]}),(0,r.jsx)(n.p,{id:"modelNumber",value:k.modelNumber,onChange:e=>I("modelNumber",e.target.value),placeholder:"Enter model number (optional)","aria-label":"Model Number"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,r.jsxs)(b.m_,{children:[(0,r.jsx)(b.k$,{asChild:!0,children:(0,r.jsx)(c.J,{htmlFor:"type","aria-label":"Device Type",children:"Device Type *"})}),(0,r.jsx)(b.ZI,{children:"Select the type of device. Required."})]}),(0,r.jsxs)(m.l6,{value:k.type,onValueChange:e=>I("type",e),required:!0,"aria-label":"Device Type",children:[(0,r.jsx)(m.bq,{children:(0,r.jsx)(m.yv,{placeholder:"Select device type"})}),(0,r.jsxs)(m.gC,{children:[(0,r.jsx)(m.eb,{value:"Computer",children:"Computer"}),(0,r.jsx)(m.eb,{value:"Laptop",children:"Laptop"}),(0,r.jsx)(m.eb,{value:"Printer",children:"Printer"}),(0,r.jsx)(m.eb,{value:"Scanner",children:"Scanner"}),(0,r.jsx)(m.eb,{value:"SIM Card",children:"SIM Card"}),(0,r.jsx)(m.eb,{value:"Office Phone",children:"Office Phone"}),(0,r.jsx)(m.eb,{value:"Monitor",children:"Monitor"}),(0,r.jsx)(m.eb,{value:"Keyboard",children:"Keyboard"}),(0,r.jsx)(m.eb,{value:"Mouse",children:"Mouse"}),(0,r.jsx)(m.eb,{value:"Router",children:"Router"}),(0,r.jsx)(m.eb,{value:"UPS",children:"UPS"})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,r.jsxs)(b.m_,{children:[(0,r.jsx)(b.k$,{asChild:!0,children:(0,r.jsx)(c.J,{htmlFor:"status","aria-label":"Status",children:"Status *"})}),(0,r.jsx)(b.ZI,{children:"Current status of the device. Required."})]}),(0,r.jsxs)(m.l6,{value:k.status,onValueChange:e=>I("status",e),required:!0,"aria-label":"Status",children:[(0,r.jsx)(m.bq,{children:(0,r.jsx)(m.yv,{})}),(0,r.jsxs)(m.gC,{children:[(0,r.jsx)(m.eb,{value:"Active",children:"Active"}),(0,r.jsx)(m.eb,{value:"Inactive",children:"Inactive"}),(0,r.jsx)(m.eb,{value:"Maintenance",children:"Maintenance"})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,r.jsxs)(b.m_,{children:[(0,r.jsx)(b.k$,{asChild:!0,children:(0,r.jsx)(c.J,{htmlFor:"assignedTo","aria-label":"Assigned To",children:"Assigned To"})}),(0,r.jsx)(b.ZI,{children:"Employee name (optional)."})]}),(0,r.jsx)(n.p,{id:"assignedTo",value:k.assignedTo,onChange:e=>I("assignedTo",e.target.value),placeholder:"Employee name (optional)","aria-label":"Assigned To"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full md:col-span-2",children:[(0,r.jsxs)(b.m_,{children:[(0,r.jsx)(b.k$,{asChild:!0,children:(0,r.jsx)(c.J,{htmlFor:"dateAssigned","aria-label":"Date Assigned",children:"Date Assigned"})}),(0,r.jsx)(b.ZI,{children:"Date the device was assigned. Leave empty to use today's date."})]}),(0,r.jsx)(n.p,{id:"dateAssigned",type:"date",value:k.dateAssigned,onChange:e=>I("dateAssigned",e.target.value),"aria-label":"Date Assigned"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Leave empty to use today's date"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,r.jsxs)(b.m_,{children:[(0,r.jsx)(b.k$,{asChild:!0,children:(0,r.jsx)(c.J,{htmlFor:"department","aria-label":"Department",children:"Department"})}),(0,r.jsx)(b.ZI,{children:"Department where the device is assigned (optional)."})]}),(0,r.jsx)(n.p,{id:"department",value:k.department,onChange:e=>I("department",e.target.value),placeholder:"Enter department name","aria-label":"Department"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,r.jsxs)(b.m_,{children:[(0,r.jsx)(b.k$,{asChild:!0,children:(0,r.jsx)(c.J,{htmlFor:"warranty","aria-label":"Warranty",children:"Warranty"})}),(0,r.jsx)(b.ZI,{children:"Device warranty information (optional)."})]}),(0,r.jsx)(n.p,{id:"warranty",value:k.warranty,onChange:e=>I("warranty",e.target.value),placeholder:"Enter warranty details","aria-label":"Warranty"})]}),(0,r.jsx)("div",{className:"flex justify-end col-span-full pt-6",children:(0,r.jsxs)(i.$,{type:"submit",disabled:w,className:"px-8 py-2 text-base font-semibold rounded-lg shadow bg-blue-600 hover:bg-blue-700 text-white",children:[w?(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Register Device"]})})]})})})]})]})]})}},35169:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(19946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35695:(e,a,s)=>{"use strict";var r=s(18999);s.o(r,"useParams")&&s.d(a,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(a,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(a,{useRouter:function(){return r.useRouter}})},55019:(e,a,s)=>{Promise.resolve().then(s.bind(s,12439))},66220:(e,a,s)=>{"use strict";s.d(a,{J:()=>o});var r=s(95155),t=s(12115),l=s(63655),d=t.forwardRef((e,a)=>(0,r.jsx)(l.sG.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));d.displayName="Label";var i=s(74466),n=s(53999);let c=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(d,{ref:a,className:(0,n.cn)(c(),s),...t})});o.displayName=d.displayName},88482:(e,a,s)=>{"use strict";s.d(a,{BT:()=>c,Wu:()=>o,ZB:()=>n,Zp:()=>d,aR:()=>i});var r=s(95155),t=s(12115),l=s(53999);let d=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t})});d.displayName="Card";let i=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...t})});i.displayName="CardHeader";let n=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...t})});n.displayName="CardTitle";let c=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",s),...t})});c.displayName="CardDescription";let o=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",s),...t})});o.displayName="CardContent",t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",s),...t})}).displayName="CardFooter"},95784:(e,a,s)=>{"use strict";s.d(a,{bq:()=>m,eb:()=>f,gC:()=>p,l6:()=>o,yv:()=>u});var r=s(95155),t=s(12115),l=s(93081),d=s(66474),i=s(47863),n=s(5196),c=s(53999);let o=l.bL;l.YJ;let u=l.WT,m=t.forwardRef((e,a)=>{let{className:s,children:t,...i}=e;return(0,r.jsxs)(l.l9,{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[t,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=l.l9.displayName;let x=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.PP,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});x.displayName=l.PP.displayName;let h=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.wn,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})});h.displayName=l.wn.displayName;let p=t.forwardRef((e,a)=>{let{className:s,children:t,position:d="popper",...i}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:a,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:d,...i,children:[(0,r.jsx)(x,{}),(0,r.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===d&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(h,{})]})})});p.displayName=l.UC.displayName,t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.JU,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t})}).displayName=l.JU.displayName;let f=t.forwardRef((e,a)=>{let{className:s,children:t,...d}=e;return(0,r.jsxs)(l.q7,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...d,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:t})]})});f.displayName=l.q7.displayName,t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...t})}).displayName=l.wv.displayName}},e=>{var a=a=>e(e.s=a);e.O(0,[8110,2939,8370,6874,6671,3745,4075,8441,1684,7358],()=>a(55019)),_N_E=e.O()}]);