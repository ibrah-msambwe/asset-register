(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[942],{3393:(e,t,r)=>{Promise.resolve().then(r.bind(r,46973))},13052:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},42355:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},46973:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var a=r(95155),s=r(12115),l=r(99314),n=r(76037),o=r(88482),d=r(97168),i=r(89852),c=r(88145),x=r(69074),m=r(42355),p=r(13052),h=r(51154),u=r(91788),f=r(97638),g=r(88524),b=r(49026),y=r(85339),N=r(26597),v=r(76118);function j(){let{tonerStock:e}=(0,f.o)(),[t,r]=(0,s.useState)(""),[j,w]=(0,s.useState)(""),[k,S]=(0,s.useState)(""),[C,A]=(0,s.useState)(!1),[R,T]=(0,s.useState)(null),[D,L]=(0,s.useState)(1),[F,M]=(0,s.useState)(20),z=e.filter(e=>{let r=!t||(()=>{var r,a;let s=t.toLowerCase();return e.model.toLowerCase().includes(s)||(null===(r=e.color)||void 0===r?void 0:r.toLowerCase().includes(s))||(null===(a=e.printerName)||void 0===a?void 0:a.toLowerCase().includes(s))})(),a=!0;if(e.lastUpdated){let t=new Date(e.lastUpdated);if(j&&t<new Date(j)&&(a=!1),k){let e=new Date(k);e.setHours(23,59,59,999),t>e&&(a=!1)}}return r&&a}),E=Math.ceil(z.length/F),P=z.slice((D-1)*F,D*F);(0,s.useEffect)(()=>{D>E&&E>0&&L(1)},[z.length,D,E]);let U=async()=>{A(!0),T(null);try{let e=new N.Ay,r=e.internal.pageSize.width,a=new Date().toLocaleDateString(),s=new Date().toLocaleTimeString();e.setFontSize(20),e.text("Hesu Investment Limited",r/2,15,{align:"center"}),e.setFontSize(16),e.text("Toner Stock Report",r/2,25,{align:"center"}),e.setFontSize(10),e.text("Report Date: ".concat(a),r/2,35,{align:"center"}),e.text("Report Time: ".concat(s),r/2,42,{align:"center"}),e.text("Total Records: ".concat(z.length),r/2,49,{align:"center"});let l=56;if(t&&e.text("Search Term: ".concat(t),r/2,l++,{align:"center"}),j||k){let t=j&&k?"".concat(j," to ").concat(k):j?"From ".concat(j):"Until ".concat(k);e.text("Date Range: ".concat(t),r/2,l++,{align:"center"})}(0,v.Ay)(e,{startY:l+5,head:[["Toner Model","Color/Type","Printer","Current Stock","Low Stock Threshold","Status","Last Updated"]],body:z.map(e=>[e.model,e.color||"B&W",e.printerName||"N/A",e.currentStock.toString(),e.lowStockThreshold.toString(),e.currentStock<=e.lowStockThreshold?"Low Stock":"In Stock",new Date(e.lastUpdated).toLocaleDateString()]),styles:{fontSize:9,cellPadding:2,lineColor:[0,0,0],lineWidth:.1},headStyles:{fillColor:[22,160,133],textColor:[255,255,255],fontStyle:"bold",halign:"center",lineWidth:.1,lineColor:[0,0,0]},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:10},theme:"grid",didDrawPage:function(t){e.setDrawColor(0,0,0),e.setLineWidth(.5),e.rect(10,10,r-20,e.internal.pageSize.height-20)}});let n=e.internal.getNumberOfPages();for(let t=1;t<=n;t++)e.setPage(t),e.setFontSize(8),e.text("Page ".concat(t," of ").concat(n," - Generated on ").concat(a),r/2,e.internal.pageSize.height-10,{align:"center"});let o=e.output("blob"),d=window.URL.createObjectURL(o),i=document.createElement("a");i.href=d,i.download="hesu-toner-stock-report-".concat(new Date().toISOString().split("T")[0],".pdf"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(d)}catch(e){T(e.message||"Failed to export report")}finally{A(!1)}};return(0,a.jsxs)(l.sF,{className:"h-full bg-white",children:[(0,a.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4 bg-white",children:[(0,a.jsx)(l.x2,{className:"-ml-1"}),(0,a.jsx)(n.w,{orientation:"vertical",className:"mr-2 h-4"}),(0,a.jsx)("h1",{className:"text-lg font-semibold",children:"Toner Stock Report"})]}),(0,a.jsx)("div",{className:"flex flex-1 flex-col gap-6 p-4 sm:p-6 w-full bg-white min-h-[calc(100vh-4rem)]",children:(0,a.jsxs)(o.Zp,{className:"border-none shadow-md bg-white w-full",children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsx)(o.ZB,{children:"Toner Stock Report"}),(0,a.jsx)(o.BT,{children:"View and export toner stock levels"})]}),(0,a.jsxs)(o.Wu,{className:"w-full overflow-hidden",children:[R&&(0,a.jsxs)(b.Fc,{variant:"destructive",className:"mb-6",children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),(0,a.jsx)(b.TN,{children:R})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(i.p,{placeholder:"Search toner model, color, or printer...",value:t,onChange:e=>r(e.target.value),className:"w-full"})})}),(0,a.jsx)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:(0,a.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 text-gray-500"}),(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Date Range:"})]}),(0,a.jsx)(i.p,{type:"date",value:j,onChange:e=>{w(e.target.value),L(1)},className:"w-full",placeholder:"Start Date"}),(0,a.jsx)("span",{className:"self-center text-gray-500",children:"to"}),(0,a.jsx)(i.p,{type:"date",value:k,onChange:e=>{S(e.target.value),L(1)},className:"w-full",placeholder:"End Date"}),(j||k)&&(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>{w(""),S(""),L(1)},className:"whitespace-nowrap",children:"Clear"})]})}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("label",{htmlFor:"rows-per-page",className:"text-sm text-gray-700 font-medium",children:"Rows per page:"}),(0,a.jsx)("select",{id:"rows-per-page",value:F,onChange:e=>{M(Number(e.target.value)),L(1)},className:"border rounded px-2 py-1 text-sm bg-white",children:[10,20,50,100].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",P.length>0?(D-1)*F+1:0," - ",Math.min(D*F,z.length)," of ",z.length," stock entries"]})]}),(0,a.jsx)("div",{className:"rounded-md border shadow-sm overflow-hidden bg-white",children:(0,a.jsxs)(g.XI,{className:"font-inter w-full",children:[(0,a.jsx)(g.A0,{children:(0,a.jsxs)(g.Hj,{className:"bg-gradient-to-r from-purple-50 to-purple-100 hover:bg-gradient-to-r hover:from-purple-50 hover:to-purple-100",children:[(0,a.jsx)(g.nd,{className:"font-semibold text-xs px-2 py-3 border-r border-dashed border-gray-200",children:"Toner Model"}),(0,a.jsx)(g.nd,{className:"font-semibold text-xs px-2 py-3 border-r border-dashed border-gray-200",children:"Color/Type"}),(0,a.jsx)(g.nd,{className:"font-semibold text-xs px-2 py-3 border-r border-dashed border-gray-200",children:"Printer"}),(0,a.jsx)(g.nd,{className:"font-semibold text-xs px-2 py-3 border-r border-dashed border-gray-200",children:"Current Stock"}),(0,a.jsx)(g.nd,{className:"font-semibold text-xs px-2 py-3 border-r border-dashed border-gray-200",children:"Low Threshold"}),(0,a.jsx)(g.nd,{className:"font-semibold text-xs px-2 py-3 border-r border-dashed border-gray-200",children:"Status"}),(0,a.jsx)(g.nd,{className:"font-semibold text-xs px-2 py-3",children:"Last Updated"})]})}),(0,a.jsx)(g.BF,{children:0===P.length?(0,a.jsx)(g.Hj,{children:(0,a.jsx)(g.nA,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No stock entries found matching your filters."})}):P.map((e,t)=>{let r=e.currentStock<=e.lowStockThreshold;return(0,a.jsxs)(g.Hj,{className:"transition hover:bg-purple-50 ".concat(t%2==0?"bg-white":"bg-gray-50/50"),children:[(0,a.jsx)(g.nA,{className:"px-2 py-3 font-inter text-xs font-medium border-r border-dashed border-gray-200",children:e.model}),(0,a.jsx)(g.nA,{className:"px-2 py-3 font-inter text-xs border-r border-dashed border-gray-200",children:e.color?(0,a.jsx)(c.E,{variant:"outline",className:"text-xs",children:e.color}):(0,a.jsx)("span",{className:"text-gray-400",children:"B&W"})}),(0,a.jsx)(g.nA,{className:"px-2 py-3 font-inter text-xs truncate border-r border-dashed border-gray-200",children:e.printerName||"N/A"}),(0,a.jsx)(g.nA,{className:"px-2 py-3 font-inter text-xs font-semibold border-r border-dashed border-gray-200",children:(0,a.jsx)("span",{className:r?"text-red-600":"text-green-600",children:e.currentStock})}),(0,a.jsx)(g.nA,{className:"px-2 py-3 font-inter text-xs border-r border-dashed border-gray-200",children:e.lowStockThreshold}),(0,a.jsx)(g.nA,{className:"px-2 py-3 font-inter text-xs border-r border-dashed border-gray-200",children:(0,a.jsx)(c.E,{className:r?"bg-red-100 text-red-800 text-xs px-1.5 py-0.5":"bg-green-100 text-green-800 text-xs px-1.5 py-0.5",children:r?"Low Stock":"In Stock"})}),(0,a.jsx)(g.nA,{className:"px-2 py-3 font-inter text-xs truncate",children:new Date(e.lastUpdated).toLocaleDateString()})]},e.id)})})]})}),E>1&&(0,a.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-6",children:[(0,a.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>L(e=>Math.max(1,e-1)),disabled:1===D,className:"gap-1",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),"Previous"]}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:(()=>{let e=Math.max(1,D-Math.floor(2.5)),t=Math.min(E,e+5-1);t-e<4&&(e=Math.max(1,t-5+1));let r=[];e>1&&(r.push((0,a.jsx)("button",{onClick:()=>L(1),className:"px-3 py-1 rounded border text-sm font-medium bg-white text-purple-600 border-purple-200 hover:bg-purple-50",children:"1"},1)),e>2&&r.push((0,a.jsx)("span",{className:"px-2 text-gray-500",children:"..."},"ellipsis1")));for(let s=e;s<=t;s++)r.push((0,a.jsx)("button",{onClick:()=>L(s),className:"px-3 py-1 rounded border text-sm font-medium ".concat(D===s?"bg-purple-600 text-white border-purple-600":"bg-white text-purple-600 border-purple-200 hover:bg-purple-50"),children:s},s));return t<E&&(t<E-1&&r.push((0,a.jsx)("span",{className:"px-2 text-gray-500",children:"..."},"ellipsis2")),r.push((0,a.jsx)("button",{onClick:()=>L(E),className:"px-3 py-1 rounded border text-sm font-medium bg-white text-purple-600 border-purple-200 hover:bg-purple-50",children:E},E))),r})()}),(0,a.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>L(e=>Math.min(E,e+1)),disabled:D===E,className:"gap-1",children:["Next",(0,a.jsx)(p.A,{className:"h-4 w-4"})]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500 ml-4",children:["Page ",D," of ",E]})]}),(0,a.jsx)("div",{className:"flex gap-4",children:(0,a.jsx)(d.$,{onClick:U,disabled:C,children:C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Exporting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Export to PDF"]})})})]})]})]})})]})}},49026:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>d,TN:()=>i});var a=r(95155),s=r(12115),l=r(74466),n=r(53999);let o=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,...l}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(o({variant:s}),r),...l})});d.displayName="Alert",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})}).displayName="AlertTitle";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",r),...s})});i.displayName="AlertDescription"},51154:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},69074:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},85339:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},88145:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var a=r(95155);r(12115);var s=r(74466),l=r(53999);let n=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)(n({variant:r}),t),...s})}},88482:(e,t,r)=>{"use strict";r.d(t,{BT:()=>i,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>o});var a=r(95155),s=r(12115),l=r(53999);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});n.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});d.displayName="CardTitle";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});i.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},88524:(e,t,r)=>{"use strict";r.d(t,{A0:()=>o,BF:()=>d,Hj:()=>i,XI:()=>n,nA:()=>x,nd:()=>c});var a=r(95155),s=r(12115),l=r(53999);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",r),...s})})});n.displayName="Table";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",r),...s})});o.displayName="TableHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",r),...s})});d.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});i.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})});c.displayName="TableHead";let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});x.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption"},91788:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[3930,8110,2939,8370,4070,4075,7638,8441,1684,7358],()=>t(3393)),_N_E=e.O()}]);