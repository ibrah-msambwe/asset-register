(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9092],{4229:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},5623:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},17580:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},34525:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]])},35169:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35695:(e,s,r)=>{"use strict";var t=r(18999);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},47924:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},49026:(e,s,r)=>{"use strict";r.d(s,{Fc:()=>i,TN:()=>d});var t=r(95155),l=r(12115),n=r(74466),a=r(53999);let o=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=l.forwardRef((e,s)=>{let{className:r,variant:l,...n}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,a.cn)(o({variant:l}),r),...n})});i.displayName="Alert",l.forwardRef((e,s)=>{let{className:r,...l}=e;return(0,t.jsx)("h5",{ref:s,className:(0,a.cn)("mb-1 font-medium leading-none tracking-tight",r),...l})}).displayName="AlertTitle";let d=l.forwardRef((e,s)=>{let{className:r,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("text-sm [&_p]:leading-relaxed",r),...l})});d.displayName="AlertDescription"},51154:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},66220:(e,s,r)=>{"use strict";r.d(s,{J:()=>c});var t=r(95155),l=r(12115),n=r(63655),a=l.forwardRef((e,s)=>(0,t.jsx)(n.sG.label,{...e,ref:s,onMouseDown:s=>{var r;s.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));a.displayName="Label";var o=r(74466),i=r(53999);let d=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,s)=>{let{className:r,...l}=e;return(0,t.jsx)(a,{ref:s,className:(0,i.cn)(d(),r),...l})});c.displayName=a.displayName},68765:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>R});var t=r(95155),l=r(12115),n=r(35695),a=r(99314),o=r(76037),i=r(88482),d=r(97168),c=r(89852),u=r(66220),m=r(95784),h=r(99474),x=r(35169),p=r(84616),y=r(34525),f=r(17580),b=r(51154),j=r(4229),g=r(47924),v=r(5623),N=r(92657),T=r(13717),w=r(62525),C=r(6874),I=r.n(C),k=r(97638),A=r(58012),M=r(56671),q=r(49026);let S=(0,r(19946).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var D=r(88524),P=r(88145),F=r(99840),E=r(67133);function R(){(0,n.useRouter)();let{addIssuedItem:e,getTonerStockByModel:s,getEligibleUsersForItem:r,getPrinters:C,issuedItems:R,updateIssuedItem:L,deleteIssuedItem:V}=(0,k.o)(),{devices:B}=(0,A.t)(),J=C(),[_,z]=(0,l.useState)(!1),[H,O]=(0,l.useState)(""),[U,Q]=(0,l.useState)(!1),[$,W]=(0,l.useState)({itemType:"",tonerModel:"",tonerType:"",tonerColor:"",printerId:"",quantity:"",issuedTo:"",issuedDate:new Date().toISOString().split("T")[0],assetId:"",notes:""}),[K,G]=(0,l.useState)(null),[Y,Z]=(0,l.useState)([]),[X,ee]=(0,l.useState)(null);(0,l.useEffect)(()=>{if($.itemType){let e=r($.itemType);Z(e),0===e.length?G("No eligible users found for ".concat($.itemType,". Users must have related assets assigned.")):G(null)}else Z([]),G(null)},[$.itemType,r]),(0,l.useEffect)(()=>{if("Toner"===$.itemType&&$.tonerModel){let e=s($.tonerModel,$.tonerColor,$.printerId||void 0);ee((null==e?void 0:e.currentStock)||0)}else ee(null)},[$.itemType,$.tonerModel,$.tonerColor,$.printerId,s]);let es=async s=>{if(s.preventDefault(),z(!0),G(null),!$.itemType){G("Item type is required."),z(!1);return}if(!$.quantity||0>=parseInt($.quantity)){G("Quantity must be greater than 0."),z(!1);return}if(!$.issuedTo){G("Issued to is required."),z(!1);return}if("Toner"===$.itemType){if(!$.tonerModel){G("Toner model is required for toner items."),z(!1);return}if(!$.tonerType){G("Toner type (Black & White or Color) is required."),z(!1);return}if("Color"===$.tonerType&&!$.tonerColor){G("Toner color is required for color toners."),z(!1);return}if(!$.printerId){G("Printer selection is required for toner items."),z(!1);return}if(null===X||0===X){G("No stock available for ".concat($.tonerModel," ").concat($.tonerColor?"(".concat($.tonerColor,")"):""," for the selected printer. Please receive stock first.")),z(!1);return}if(parseInt($.quantity)>X){G("Insufficient stock. Only ".concat(X," units available for ").concat($.tonerModel," ").concat($.tonerColor?"(".concat($.tonerColor,")"):""," for the selected printer.")),z(!1);return}}if(Y.length>0&&!Y.includes($.issuedTo)){G("Selected user is not eligible for this item type based on their assigned assets."),z(!1);return}try{let s;let r=window.editingIssuedItemId,t=$.printerId?J.find(e=>e.id===$.printerId):void 0,l=t?B.find(e=>e.id===t.id):void 0;if("Keyboard"===$.itemType||"Mouse"===$.itemType){let e=B.find(e=>("Computer"===e.type||"Laptop"===e.type)&&e.assignedTo===$.issuedTo);s=null==e?void 0:e.id}else if("Toner"===$.itemType)s=$.printerId;else if("Monitor"===$.itemType){let e=B.find(e=>"Computer"===e.type&&e.assignedTo===$.issuedTo);s=null==e?void 0:e.id}let n={itemType:$.itemType,tonerModel:"Toner"===$.itemType?$.tonerModel:void 0,tonerType:"Toner"===$.itemType?$.tonerType:void 0,tonerColor:"Toner"===$.itemType&&"Color"===$.tonerType?$.tonerColor:void 0,printerId:"Toner"===$.itemType?$.printerId:void 0,printerName:"Toner"===$.itemType&&t?"".concat(t.assetNumber||t.serialNumber," - ").concat(t.assignedTo||"Unassigned").concat((null==l?void 0:l.modelNumber)?" (".concat(l.modelNumber,")"):""):void 0,quantity:parseInt($.quantity),issuedTo:$.issuedTo,issuedDate:$.issuedDate,assetId:s,notes:$.notes||void 0};r?(await L(r,n),M.oR.success("Item updated successfully! ✏️",{description:"".concat($.quantity," ").concat($.itemType,"(s) have been updated."),duration:4e3}),delete window.editingIssuedItemId):(await e(n),M.oR.success("Items issued successfully! \uD83D\uDCE4",{description:"".concat($.quantity," ").concat($.itemType,"(s) issued to ").concat($.issuedTo,"."),duration:4e3})),window.editingIssuedItemId||(W({itemType:"",tonerModel:"",tonerType:"",tonerColor:"",printerId:"",quantity:"",issuedTo:"",issuedDate:new Date().toISOString().split("T")[0],assetId:"",notes:""}),Z([]),ee(null)),Q(!1)}catch(e){G("Error issuing items."),console.error("Error issuing items:",e)}finally{z(!1)}},er=(e,s)=>{W(r=>{let t={...r,[e]:s};if("itemType"===e&&(t.tonerModel="",t.tonerType="",t.tonerColor="",t.printerId="",t.issuedTo=""),"tonerType"===e&&"Color"!==s&&(t.tonerColor=""),"printerId"===e){let e=J.find(e=>e.id===s);e&&e.assignedTo&&(t.issuedTo=e.assignedTo)}return t})},et=R.filter(e=>{var s,r,t;if(!H)return!0;let l=H.toLowerCase();return e.itemType.toLowerCase().includes(l)||e.issuedTo.toLowerCase().includes(l)||(null===(s=e.tonerModel)||void 0===s?void 0:s.toLowerCase().includes(l))||(null===(r=e.printerName)||void 0===r?void 0:r.toLowerCase().includes(l))||(null===(t=e.notes)||void 0===t?void 0:t.toLowerCase().includes(l))}),el=e=>{try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(s){return e}},en=(e,s)=>{if(e){let r=B.find(s=>s.id===e&&"Printer"===s.type);if(r){let e=s||"".concat(r.assetNumber||r.serialNumber," - ").concat(r.assignedTo||"Unassigned");return r.modelNumber&&!e.includes(r.modelNumber)?"".concat(e," (").concat(r.modelNumber,")"):e}}if(s){let e=B.find(e=>"Printer"===e.type&&(s.includes(e.assetNumber||"")||s.includes(e.serialNumber||"")||e.assignedTo&&s.includes(e.assignedTo)));if((null==e?void 0:e.modelNumber)&&!s.includes(e.modelNumber))return"".concat(s," (").concat(e.modelNumber,")")}return s||"N/A"};return(0,t.jsxs)(a.sF,{className:"h-full bg-white",children:[(0,t.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4 bg-white",children:[(0,t.jsx)(a.x2,{className:"-ml-1"}),(0,t.jsx)(o.w,{orientation:"vertical",className:"mr-2 h-4"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-lg font-semibold",children:"Issue Items"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Issue inventory items to users"})]})]}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col gap-6 p-6 bg-white",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(d.$,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)(I(),{href:"/dashboard",children:[(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})}),(0,t.jsxs)(F.lG,{open:U,onOpenChange:Q,children:[(0,t.jsx)(F.zM,{asChild:!0,children:(0,t.jsxs)(d.$,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Issue Items"]})}),(0,t.jsxs)(F.Cf,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(F.c7,{children:[(0,t.jsxs)(F.L3,{className:"text-2xl font-bold flex items-center gap-3",children:[(0,t.jsx)(y.A,{className:"h-6 w-6 text-blue-600"}),"Issue Items"]}),(0,t.jsx)(F.rr,{children:"Issue inventory items to employees based on their assigned assets"})]}),(0,t.jsxs)("form",{onSubmit:es,className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 items-start mt-4",children:[K&&(0,t.jsx)(q.Fc,{variant:"destructive",className:"col-span-full",children:(0,t.jsx)(q.TN,{children:K})}),Y.length>0&&(0,t.jsxs)(q.Fc,{className:"col-span-full",children:[(0,t.jsx)(S,{className:"h-4 w-4"}),(0,t.jsxs)(q.TN,{children:[(0,t.jsx)("strong",{children:"Smart Integration:"})," Showing ",Y.length," eligible user(s) based on their assigned assets."]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,t.jsx)(u.J,{htmlFor:"itemType",children:"Item Type *"}),(0,t.jsxs)(m.l6,{value:$.itemType,onValueChange:e=>er("itemType",e),required:!0,children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{placeholder:"Select item type"})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"Toner",children:"Toner"}),(0,t.jsx)(m.eb,{value:"Keyboard",children:"Keyboard"}),(0,t.jsx)(m.eb,{value:"Mouse",children:"Mouse"}),(0,t.jsx)(m.eb,{value:"Cable",children:"Cable"}),(0,t.jsx)(m.eb,{value:"Monitor",children:"Monitor"}),(0,t.jsx)(m.eb,{value:"Other",children:"Other"})]})]})]}),"Toner"===$.itemType&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,t.jsx)(u.J,{htmlFor:"tonerModel",children:"Toner Model *"}),(0,t.jsx)(c.p,{id:"tonerModel",value:$.tonerModel,onChange:e=>er("tonerModel",e.target.value),placeholder:"Enter toner model (e.g., HP 85A, Canon 303)",required:!0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Type the toner model name to match received stock"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,t.jsx)(u.J,{htmlFor:"tonerType",children:"Toner Type *"}),(0,t.jsxs)(m.l6,{value:$.tonerType,onValueChange:e=>er("tonerType",e),required:!0,children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{placeholder:"Select toner type"})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"Black & White",children:"Black & White"}),(0,t.jsx)(m.eb,{value:"Color",children:"Color"})]})]})]}),"Color"===$.tonerType&&(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,t.jsx)(u.J,{htmlFor:"tonerColor",children:"Toner Color *"}),(0,t.jsxs)(m.l6,{value:$.tonerColor,onValueChange:e=>er("tonerColor",e),required:!0,children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{placeholder:"Select toner color"})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"Black",children:"Black"}),(0,t.jsx)(m.eb,{value:"Cyan",children:"Cyan"}),(0,t.jsx)(m.eb,{value:"Magenta",children:"Magenta"}),(0,t.jsx)(m.eb,{value:"Yellow",children:"Yellow"}),(0,t.jsx)(m.eb,{value:"Color Set",children:"Color Set (All 4 colors)"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,t.jsx)(u.J,{htmlFor:"printerId",children:"Assigned Printer *"}),(0,t.jsxs)(m.l6,{value:$.printerId,onValueChange:e=>er("printerId",e),required:!0,children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{placeholder:"Select printer from assets"})}),(0,t.jsx)(m.gC,{children:0===J.length?(0,t.jsx)(m.eb,{value:"",disabled:!0,children:"No printers found in assets"}):J.map(e=>(0,t.jsxs)(m.eb,{value:e.id,children:[e.assetNumber||e.serialNumber," - ",e.assignedTo||"Unassigned"," ",e.modelNumber?"(".concat(e.modelNumber,")"):""]},e.id))})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Select printer from asset database. User will be auto-filled."})]}),$.printerId&&$.tonerModel&&(0,t.jsx)("div",{className:"flex flex-col gap-1 w-full",children:null!=X?(0,t.jsxs)("p",{className:"text-xs font-semibold ".concat(0===X?"text-red-600":X<=5?"text-orange-600":"text-green-600"),children:["Available stock: ",X," units",0===X&&" - No stock available for this printer!",X>0&&X<=5&&" - Low stock warning"]}):(0,t.jsx)("p",{className:"text-xs text-red-600 font-semibold",children:"No stock found for this toner model and printer combination. Please receive stock first."})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,t.jsx)(u.J,{htmlFor:"quantity",children:"Quantity *"}),(0,t.jsx)(c.p,{id:"quantity",type:"number",min:"1",value:$.quantity,onChange:e=>er("quantity",e.target.value),placeholder:"Enter quantity",required:!0})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,t.jsxs)(u.J,{htmlFor:"issuedTo",className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),"Issued To *"]}),Y.length>0?(0,t.jsxs)(m.l6,{value:$.issuedTo,onValueChange:e=>er("issuedTo",e),required:!0,children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{placeholder:"Select eligible user"})}),(0,t.jsx)(m.gC,{children:Y.map(e=>(0,t.jsx)(m.eb,{value:e,children:e},e))})]}):(0,t.jsx)(c.p,{id:"issuedTo",value:$.issuedTo,onChange:e=>er("issuedTo",e.target.value),placeholder:"Enter user name",required:!0}),Y.length>0&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"System-suggested users based on asset assignments"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,t.jsx)(u.J,{htmlFor:"issuedDate",children:"Issue Date *"}),(0,t.jsx)(c.p,{id:"issuedDate",type:"date",value:$.issuedDate,onChange:e=>er("issuedDate",e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full md:col-span-2",children:[(0,t.jsx)(u.J,{htmlFor:"notes",children:"Notes"}),(0,t.jsx)(h.T,{id:"notes",value:$.notes,onChange:e=>er("notes",e.target.value),placeholder:"Additional notes (optional)",rows:3})]}),(0,t.jsxs)(F.Es,{className:"col-span-full pt-6",children:[(0,t.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>Q(!1),disabled:_,children:"Cancel"}),(0,t.jsx)(d.$,{type:"submit",disabled:_,className:"px-8 py-2 text-base font-semibold rounded-lg shadow bg-blue-600 hover:bg-blue-700 text-white",children:_?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Issue Items"]})})]})]})]})]})]}),(0,t.jsxs)(i.Zp,{className:"border-none shadow-xl bg-gradient-to-b from-white to-blue-50 rounded-2xl",children:[(0,t.jsx)(i.aR,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.ZB,{className:"text-xl font-bold",children:"Issued Items History"}),(0,t.jsx)(i.BT,{children:"View all issued items and their details"})]}),(0,t.jsxs)("div",{className:"relative w-64",children:[(0,t.jsx)(g.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(c.p,{placeholder:"Search issued items...",value:H,onChange:e=>O(e.target.value),className:"pl-10"})]})]})}),(0,t.jsx)(i.Wu,{children:0===et.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)(y.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"No issued items found"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:H?"Try adjusting your search terms":"Start issuing items to see them here"})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(D.XI,{children:[(0,t.jsx)(D.A0,{children:(0,t.jsxs)(D.Hj,{className:"bg-blue-50 hover:bg-blue-50",children:[(0,t.jsx)(D.nd,{className:"border-r border-dashed border-gray-200 font-semibold",children:"Item Type"}),(0,t.jsx)(D.nd,{className:"border-r border-dashed border-gray-200 font-semibold",children:"Toner Details"}),(0,t.jsx)(D.nd,{className:"border-r border-dashed border-gray-200 font-semibold",children:"Quantity"}),(0,t.jsx)(D.nd,{className:"border-r border-dashed border-gray-200 font-semibold",children:"Issued To"}),(0,t.jsx)(D.nd,{className:"border-r border-dashed border-gray-200 font-semibold",children:"Printer"}),(0,t.jsx)(D.nd,{className:"border-r border-dashed border-gray-200 font-semibold",children:"Issue Date"}),(0,t.jsx)(D.nd,{className:"border-r border-dashed border-gray-200 font-semibold",children:"Notes"}),(0,t.jsx)(D.nd,{className:"font-semibold text-center w-[50px]",children:"Actions"})]})}),(0,t.jsx)(D.BF,{children:et.map(e=>(0,t.jsxs)(D.Hj,{className:"hover:bg-blue-50/50",children:[(0,t.jsx)(D.nA,{className:"border-r border-dashed border-gray-200",children:(0,t.jsx)(P.E,{variant:"outline",className:"font-medium",children:e.itemType})}),(0,t.jsx)(D.nA,{className:"border-r border-dashed border-gray-200",children:"Toner"===e.itemType?(0,t.jsxs)("div",{className:"space-y-1",children:[e.tonerModel&&(0,t.jsx)("div",{className:"font-medium text-sm",children:e.tonerModel}),e.tonerType&&(0,t.jsx)(P.E,{variant:"secondary",className:"text-xs mr-1",children:e.tonerType}),e.tonerColor&&(0,t.jsx)(P.E,{variant:"secondary",className:"text-xs",children:e.tonerColor})]}):(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"N/A"})}),(0,t.jsx)(D.nA,{className:"border-r border-dashed border-gray-200",children:(0,t.jsx)("span",{className:"font-semibold text-blue-600",children:e.quantity})}),(0,t.jsx)(D.nA,{className:"border-r border-dashed border-gray-200",children:(0,t.jsx)("span",{className:"font-medium",children:e.issuedTo})}),(0,t.jsx)(D.nA,{className:"border-r border-dashed border-gray-200",children:(0,t.jsx)("span",{className:"text-sm",children:en(e.printerId,e.printerName)})}),(0,t.jsx)(D.nA,{className:"border-r border-dashed border-gray-200",children:(0,t.jsx)("span",{className:"text-sm",children:el(e.issuedDate)})}),(0,t.jsx)(D.nA,{children:(0,t.jsx)("span",{className:"text-sm text-gray-600",children:e.notes||"—"})}),(0,t.jsx)(D.nA,{className:"text-center",children:(0,t.jsxs)(E.rI,{children:[(0,t.jsx)(E.ty,{asChild:!0,children:(0,t.jsx)(d.$,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,t.jsx)(v.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(E.SQ,{align:"end",children:[(0,t.jsxs)(E._2,{onClick:()=>{let s=["Item Type: ".concat(e.itemType),e.tonerModel&&"Toner Model: ".concat(e.tonerModel),e.tonerType&&"Toner Type: ".concat(e.tonerType),e.tonerColor&&"Toner Color: ".concat(e.tonerColor),"Quantity: ".concat(e.quantity),"Issued To: ".concat(e.issuedTo),e.printerName&&"Printer: ".concat(en(e.printerId,e.printerName)),"Issue Date: ".concat(el(e.issuedDate)),e.notes&&"Notes: ".concat(e.notes)].filter(Boolean).join("\n");M.oR.info("Item Details",{description:s,duration:5e3})},children:[(0,t.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"View"]}),(0,t.jsxs)(E._2,{onClick:()=>{W({itemType:e.itemType,tonerModel:e.tonerModel||"",tonerType:e.tonerType||"",tonerColor:e.tonerColor||"",printerId:e.printerId||"",quantity:e.quantity.toString(),issuedTo:e.issuedTo,issuedDate:e.issuedDate,assetId:e.assetId||"",notes:e.notes||""}),Q(!0),window.editingIssuedItemId=e.id},children:[(0,t.jsx)(T.A,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,t.jsxs)(E._2,{onClick:async()=>{if(confirm("Are you sure you want to delete this ".concat(e.itemType," issue?")))try{await V(e.id),M.oR.success("Issue deleted successfully! \uD83D\uDDD1️",{description:"".concat(e.itemType," issue has been removed."),duration:3e3})}catch(e){M.oR.error("Error",{description:"Failed to delete item. Please try again."})}},className:"text-red-600",children:[(0,t.jsx)(w.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id))})]})})})]})]})]})}},84616:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88736:(e,s,r)=>{Promise.resolve().then(r.bind(r,68765))},92657:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},99474:(e,s,r)=>{"use strict";r.d(s,{T:()=>a});var t=r(95155),l=r(12115),n=r(53999);let a=l.forwardRef((e,s)=>{let{className:r,...l}=e;return(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:s,...l})});a.displayName="Textarea"}},e=>{var s=s=>e(e.s=s);e.O(0,[8110,2939,8370,6874,6671,3745,9013,4075,7638,8021,8441,1684,7358],()=>s(88736)),_N_E=e.O()}]);