(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7509],{33168:(e,s,r)=>{"use strict";r.d(s,{$G:()=>o,ND:()=>i,Sw:()=>a});var t=r(34982);r(49509);let i=(0,t.UU)("https://cjqbipjyxiryhekilfkt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNqcWJpcGp5eGlyeWhla2lsZmt0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1NjU5NDQsImV4cCI6MjA2NTE0MTk0NH0.kR63F-Rj5JF3prILS0_oCIPOQZaBkV6cYlzmW9ye2HM",{auth:{persistSession:!0,autoRefreshToken:!0}}),n=null,a=()=>{if(n)return n;let e="https://cjqbipjyxiryhekilfkt.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNqcWJpcGp5eGlyeWhla2lsZmt0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1NjU5NDQsImV4cCI6MjA2NTE0MTk0NH0.kR63F-Rj5JF3prILS0_oCIPOQZaBkV6cYlzmW9ye2HM";return e&&s?n=(0,t.UU)(e,s):(console.warn("Supabase environment variables not found. Using mock client for development."),n={from:()=>({select:()=>Promise.resolve({data:[],error:null}),insert:()=>({select:()=>Promise.resolve({data:[],error:null})}),update:()=>Promise.resolve({error:null}),delete:()=>Promise.resolve({error:null}),eq:function(){return this}}),channel:()=>({on:()=>({subscribe:()=>({unsubscribe:()=>{}})})})})},o=()=>!0},35695:(e,s,r)=>{"use strict";var t=r(18999);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},41638:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var t=r(95155),i=r(12115),n=r(97168),a=r(84616),o=r(35695),c=r(33168),l=r(56671);function d(){let e=(0,o.useRouter)(),[s,r]=(0,i.useState)([]),[d,u]=(0,i.useState)(!0);(0,i.useEffect)(()=>{m()},[]);let m=async()=>{try{let{data:e,error:s}=await c.ND.from("devices").select("*").order("created_at",{ascending:!1});if(s)throw s;r(e||[])}catch(e){console.error("\uD83D\uDD25 Error fetching devices:",e),l.oR.error("Failed to fetch devices")}finally{u(!1)}},h=async e=>{try{let{error:s}=await c.ND.from("devices").delete().eq("id",e);if(s)throw s;l.oR.success("Device deleted successfully"),m()}catch(e){console.error("\uD83D\uDD25 Error deleting device:",e),l.oR.error("Failed to delete device")}};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Devices"}),(0,t.jsxs)(n.$,{onClick:()=>e.push("/dashboard/devices/add"),children:[(0,t.jsx)(a.A,{className:"mr-2 h-4 w-4"}),"Add Device"]})]}),d?(0,t.jsx)("div",{children:"Loading..."}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(s=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-lg transition-shadow",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2",children:s.device_name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Type: ",s.device_type]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Model: ",s.model_number]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Serial: ",s.serial_number]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Status: ",s.status]}),s.assigned_to&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Assigned to: ",s.assigned_to]}),(0,t.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,t.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>e.push("/dashboard/devices/edit/".concat(s.id)),children:"Edit"}),(0,t.jsx)(n.$,{variant:"destructive",size:"sm",onClick:()=>h(s.id),children:"Delete"})]})]},s.id))})]})}},53999:(e,s,r)=>{"use strict";r.d(s,{S:()=>a,cn:()=>n});var t=r(52596),i=r(39688);function n(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,i.QP)((0,t.$)(s))}function a(e){return e?e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}},84616:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},92391:(e,s,r)=>{Promise.resolve().then(r.bind(r,41638))},97168:(e,s,r)=>{"use strict";r.d(s,{$:()=>l});var t=r(95155),i=r(12115),n=r(99708),a=r(74466),o=r(53999);let c=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=i.forwardRef((e,s)=>{let{className:r,variant:i,size:a,asChild:l=!1,...d}=e,u=l?n.DX:"button";return(0,t.jsx)(u,{className:(0,o.cn)(c({variant:i,size:a,className:r})),ref:s,...d})});l.displayName="Button"}},e=>{var s=s=>e(e.s=s);e.O(0,[8110,6671,8441,1684,7358],()=>s(92391)),_N_E=e.O()}]);