(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5336],{33168:(e,s,r)=>{"use strict";r.d(s,{$G:()=>l,ND:()=>a,Sw:()=>n});var t=r(34982);r(49509);let a=(0,t.UU)("https://cjqbipjyxiryhekilfkt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNqcWJpcGp5eGlyeWhla2lsZmt0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1NjU5NDQsImV4cCI6MjA2NTE0MTk0NH0.kR63F-Rj5JF3prILS0_oCIPOQZaBkV6cYlzmW9ye2HM",{auth:{persistSession:!0,autoRefreshToken:!0}}),i=null,n=()=>{if(i)return i;let e="https://cjqbipjyxiryhekilfkt.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNqcWJpcGp5eGlyeWhla2lsZmt0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1NjU5NDQsImV4cCI6MjA2NTE0MTk0NH0.kR63F-Rj5JF3prILS0_oCIPOQZaBkV6cYlzmW9ye2HM";return e&&s?i=(0,t.UU)(e,s):(console.warn("Supabase environment variables not found. Using mock client for development."),i={from:()=>({select:()=>Promise.resolve({data:[],error:null}),insert:()=>({select:()=>Promise.resolve({data:[],error:null})}),update:()=>Promise.resolve({error:null}),delete:()=>Promise.resolve({error:null}),eq:function(){return this}}),channel:()=>({on:()=>({subscribe:()=>({unsubscribe:()=>{}})})})})},l=()=>!0},35695:(e,s,r)=>{"use strict";var t=r(18999);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},53999:(e,s,r)=>{"use strict";r.d(s,{S:()=>n,cn:()=>i});var t=r(52596),a=r(39688);function i(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.QP)((0,t.$)(s))}function n(e){return e?e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}},66167:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m});var t=r(95155),a=r(12115),i=r(35695),n=r(97168),l=r(89852),d=r(66220),o=r(95784),c=r(33168),u=r(56671);function m(e){let{params:s}=e,r=(0,i.useRouter)(),[m,p]=(0,a.useState)(!1),[f,h]=(0,a.useState)(null),[v,b]=(0,a.useState)({device_name:"",device_type:"",model_number:"",serial_number:"",status:"Available",assigned_to:null});(0,a.useEffect)(()=>{x()},[s.id]);let x=async()=>{try{let{data:e,error:r}=await c.ND.from("devices").select("*").eq("id",s.id).single();if(r)throw r;h(e),b({device_name:e.device_name,device_type:e.device_type,model_number:e.model_number,serial_number:e.serial_number,status:e.status,assigned_to:e.assigned_to})}catch(e){console.error("\uD83D\uDD25 Error fetching device:",e),u.oR.error("Failed to fetch device"),r.push("/dashboard/devices")}},g=async e=>{e.preventDefault(),p(!0);try{let{error:e}=await c.ND.from("devices").update(v).eq("id",s.id);if(e)throw e;u.oR.success("Device updated successfully"),r.push("/dashboard/devices")}catch(e){console.error("\uD83D\uDD25 Error updating device:",e),u.oR.error("Failed to update device")}finally{p(!1)}},y=e=>{let{name:s,value:r}=e.target;b(e=>({...e,[s]:r}))},j=(e,s)=>{b(r=>({...r,[e]:s}))};return f?(0,t.jsxs)("div",{className:"p-6 max-w-2xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Edit Device"}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"device_name",children:"Device Name"}),(0,t.jsx)(l.p,{id:"device_name",name:"device_name",value:v.device_name,onChange:y,required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"device_type",children:"Device Type"}),(0,t.jsx)(l.p,{id:"device_type",name:"device_type",value:v.device_type,onChange:y,required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"model_number",children:"Model Number"}),(0,t.jsx)(l.p,{id:"model_number",name:"model_number",value:v.model_number,onChange:y,required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"serial_number",children:"Serial Number"}),(0,t.jsx)(l.p,{id:"serial_number",name:"serial_number",value:v.serial_number,onChange:y,required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"status",children:"Status"}),(0,t.jsxs)(o.l6,{value:v.status,onValueChange:e=>j("status",e),children:[(0,t.jsx)(o.bq,{children:(0,t.jsx)(o.yv,{placeholder:"Select status"})}),(0,t.jsxs)(o.gC,{children:[(0,t.jsx)(o.eb,{value:"Available",children:"Available"}),(0,t.jsx)(o.eb,{value:"In Use",children:"In Use"}),(0,t.jsx)(o.eb,{value:"Maintenance",children:"Maintenance"}),(0,t.jsx)(o.eb,{value:"Retired",children:"Retired"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"assigned_to",children:"Assigned To (Optional)"}),(0,t.jsx)(l.p,{id:"assigned_to",name:"assigned_to",value:v.assigned_to||"",onChange:y})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)(n.$,{type:"submit",disabled:m,children:m?"Updating...":"Update Device"}),(0,t.jsx)(n.$,{type:"button",variant:"outline",onClick:()=>r.push("/dashboard/devices"),children:"Cancel"})]})]})]}):(0,t.jsx)("div",{className:"p-6",children:"Loading..."})}},66220:(e,s,r)=>{"use strict";r.d(s,{J:()=>c});var t=r(95155),a=r(12115),i=r(63655),n=a.forwardRef((e,s)=>(0,t.jsx)(i.sG.label,{...e,ref:s,onMouseDown:s=>{var r;s.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var l=r(74466),d=r(53999);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(n,{ref:s,className:(0,d.cn)(o(),r),...a})});c.displayName=n.displayName},89852:(e,s,r)=>{"use strict";r.d(s,{p:()=>n});var t=r(95155),a=r(12115),i=r(53999);let n=a.forwardRef((e,s)=>{let{className:r,type:a,...n}=e;return(0,t.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:s,...n})});n.displayName="Input"},92618:(e,s,r)=>{Promise.resolve().then(r.bind(r,66167))},95784:(e,s,r)=>{"use strict";r.d(s,{bq:()=>m,eb:()=>v,gC:()=>h,l6:()=>c,yv:()=>u});var t=r(95155),a=r(12115),i=r(93081),n=r(66474),l=r(47863),d=r(5196),o=r(53999);let c=i.bL;i.YJ;let u=i.WT,m=a.forwardRef((e,s)=>{let{className:r,children:a,...l}=e;return(0,t.jsxs)(i.l9,{ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...l,children:[a,(0,t.jsx)(i.In,{asChild:!0,children:(0,t.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=i.l9.displayName;let p=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(i.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})});p.displayName=i.PP.displayName;let f=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(i.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})});f.displayName=i.wn.displayName;let h=a.forwardRef((e,s)=>{let{className:r,children:a,position:n="popper",...l}=e;return(0,t.jsx)(i.ZL,{children:(0,t.jsxs)(i.UC,{ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...l,children:[(0,t.jsx)(p,{}),(0,t.jsx)(i.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,t.jsx)(f,{})]})})});h.displayName=i.UC.displayName,a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(i.JU,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=i.JU.displayName;let v=a.forwardRef((e,s)=>{let{className:r,children:a,...n}=e;return(0,t.jsxs)(i.q7,{ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.VF,{children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})}),(0,t.jsx)(i.p4,{children:a})]})});v.displayName=i.q7.displayName,a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(i.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=i.wv.displayName},97168:(e,s,r)=>{"use strict";r.d(s,{$:()=>o});var t=r(95155),a=r(12115),i=r(99708),n=r(74466),l=r(53999);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,s)=>{let{className:r,variant:a,size:n,asChild:o=!1,...c}=e,u=o?i.DX:"button";return(0,t.jsx)(u,{className:(0,l.cn)(d({variant:a,size:n,className:r})),ref:s,...c})});o.displayName="Button"}},e=>{var s=s=>e(e.s=s);e.O(0,[8110,2939,6671,3745,8441,1684,7358],()=>s(92618)),_N_E=e.O()}]);